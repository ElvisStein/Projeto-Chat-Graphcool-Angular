function _defineProperties(n,l){for(var t=0;t<l.length;t++){var e=l[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,l,t){return l&&_defineProperties(n.prototype,l),t&&_defineProperties(n,t),n}function _inheritsLoose(n,l){n.prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l}function _templateObject11(){var n=_taggedTemplateLiteralLoose(["\n  subscription UserMessagesSubscription($loggedUserId: ID!) {\n    Message(\n      filter: {\n        mutation_in: [ CREATED ],\n        node: {\n          chat: {\n            users_some: {\n              id: $loggedUserId\n            }\n          }\n        }\n      }\n    ) {\n      mutation\n      node {\n        ...MessageFragment\n      }\n    }\n  }\n  ","\n"]);return _templateObject11=function(){return n},n}function _templateObject10(){var n=_taggedTemplateLiteralLoose(["\n  mutation CreateMessageMutation($text: String!, $chatId: ID!, $senderId: ID!) {\n    createMessage(\n      text: $text,\n      chatId: $chatId,\n      senderId: $senderId\n    ) {\n      ...MessageFragment\n    }\n  }\n  ","\n"]);return _templateObject10=function(){return n},n}function _templateObject9(){var n=_taggedTemplateLiteralLoose(["\n  query GetChatMessagesQuery($chatId: ID!) {\n    allMessages(\n      filter: {\n        chat: {\n          id: $chatId\n        }\n      },\n      orderBy: createdAt_ASC\n    ) {\n      ...MessageFragment\n    }\n  }\n  ","\n"]);return _templateObject9=function(){return n},n}function _templateObject8(){var n=_taggedTemplateLiteralLoose(["\n  fragment MessageFragment on Message {\n    id\n    text\n    createdAt\n    sender {\n      id\n      name\n      email\n      createdAt\n      photo {\n        ...FileFragment\n      }\n    }\n    chat {\n      id\n    }\n  }\n  ","\n"]);return _templateObject8=function(){return n},n}function _templateObject7(){var n=_taggedTemplateLiteralLoose(["\n  subscription UserChatsSubscription($loggedUserId: ID!) {\n    Chat(\n      filter: {\n        mutation_in: [ CREATED, UPDATED ],\n        node: {\n          users_some: {\n            id: $loggedUserId\n          }\n        }\n      }\n    ) {\n      mutation\n      node {\n        ...ChatFragment\n        ...ChatMessagesFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return _templateObject7=function(){return n},n}function _templateObject6(){var n=_taggedTemplateLiteralLoose(["\n  mutation CreateGroupMutation($title: String!, $usersIds: [ID!]!, $loggedUserId: ID!, $photoId: ID) {\n    createChat(\n      title: $title,\n      usersIds: $usersIds,\n      isGroup: true\n      photoId: $photoId\n    ) {\n      ...ChatFragment\n      ...ChatMessagesFragment\n    }\n  }\n  ","\n  ","\n"]);return _templateObject6=function(){return n},n}function _templateObject5(){var n=_taggedTemplateLiteralLoose(["\n  mutation CreatePrivateChatMutation($loggedUserId: ID!, $targetUserId: ID!) {\n    createChat(\n      usersIds: [\n        $loggedUserId,\n        $targetUserId\n      ]\n    ) {\n      ...ChatFragment\n      ...ChatMessagesFragment\n    }\n  }\n  ","\n  ","\n"]);return _templateObject5=function(){return n},n}function _templateObject4(){var n=_taggedTemplateLiteralLoose(["\n  query ChatByIdOrByUsersQuery($chatId: ID!, $loggedUserId: ID!, $targetUserId: ID!) {\n    Chat(\n      id: $chatId\n    ) {\n      ...ChatFragment\n    }\n    allChats(\n      filter: {\n        AND: [\n          { users_some: { id: $loggedUserId } },\n          { users_some: { id: $targetUserId } }\n        ],\n        isGroup: false\n      }\n    ) {\n      ...ChatFragment\n    }\n  }\n  ","\n"]);return _templateObject4=function(){return n},n}function _templateObject3(){var n=_taggedTemplateLiteralLoose(["\n  query UserChatsQuery($loggedUserId: ID!) {\n    allChats(\n      filter: {\n        users_some: {\n          id: $loggedUserId\n        }\n      }\n    ) {\n      ...ChatFragment\n      ...ChatMessagesFragment\n    }\n  }\n  ","\n  ","\n"]);return _templateObject3=function(){return n},n}function _templateObject2(){var n=_taggedTemplateLiteralLoose(["\n  fragment ChatMessagesFragment on Chat {\n    messages(\n      last: 1\n    ) {\n      id\n      createdAt\n      text\n      sender {\n        id\n        name\n      }\n    }\n  }\n"]);return _templateObject2=function(){return n},n}function _templateObject(){var n=_taggedTemplateLiteralLoose(["\n  fragment ChatFragment on Chat {\n    id\n    title\n    createdAt\n    isGroup\n    photo {\n      ...FileFragment\n    }\n    users(\n      first: 1,\n      filter: {\n        id_not: $loggedUserId\n      }\n    ) {\n      id\n      name\n      email\n      createdAt\n      photo {\n        ...FileFragment\n      }\n    }\n  }\n  ","\n"]);return _templateObject=function(){return n},n}function _taggedTemplateLiteralLoose(n,l){return l||(l=n.slice(0)),n.raw=l,n}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"5zjZ":function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),a=function(){},r=t("t68o"),i=t("xYTU"),u=t("D6GP"),o=t("pMnS"),s=t("rWV4"),c=t("SVse"),b=t("POq0"),d=t("IP0z"),m=t("Xd0L"),p=t("cUpR"),h=t("zMNK"),g=t("/HVE"),f=t("5GAg"),v=t("omvX"),y=t("hOhj"),D=e.qb({encapsulation:2,styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-tab-links{display:flex}[mat-align-tabs=center] .mat-tab-links{justify-content:center}[mat-align-tabs=end] .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:0}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-link:focus{outline:dotted 2px}}.mat-tab-link.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-link.mat-tab-disabled{opacity:.5}}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-link{opacity:1}}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media (max-width:599px){.mat-tab-link{min-width:72px}}"],data:{}});function _(n){return e.Nb(2,[e.Jb(402653184,1,{_inkBar:0}),e.Jb(402653184,2,{_tabListContainer:0}),e.Jb(402653184,3,{_tabList:0}),e.Jb(671088640,4,{_nextPaginator:0}),e.Jb(671088640,5,{_previousPaginator:0}),(n()(),e.sb(5,0,[[5,0],["previousPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"],[null,"mousedown"],[null,"touchend"]],function(n,l,t){var e=!0,a=n.component;return"click"===l&&(e=!1!==a._handlePaginatorClick("before")&&e),"mousedown"===l&&(e=!1!==a._handlePaginatorPress("before")&&e),"touchend"===l&&(e=!1!==a._stopInterval()&&e),e},null,null)),e.rb(6,212992,null,0,m.u,[e.k,e.y,g.a,[2,m.k],[2,v.a]],{disabled:[0,"disabled"]},null),(n()(),e.sb(7,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null)),(n()(),e.sb(8,0,[[2,0],["tabListContainer",1]],null,6,"div",[["class","mat-tab-link-container"]],null,[[null,"keydown"]],function(n,l,t){var e=!0;return"keydown"===l&&(e=!1!==n.component._handleKeydown(t)&&e),e},null,null)),(n()(),e.sb(9,0,[[3,0],["tabList",1]],null,5,"div",[["class","mat-tab-list"]],null,[[null,"cdkObserveContent"]],function(n,l,t){var e=!0;return"cdkObserveContent"===l&&(e=!1!==n.component._onContentChanges()&&e),e},null,null)),e.rb(10,1196032,null,0,b.a,[b.b,e.k,e.y],null,{event:"cdkObserveContent"}),(n()(),e.sb(11,0,null,null,1,"div",[["class","mat-tab-links"]],null,null,null,null,null)),e.Cb(null,0),(n()(),e.sb(13,0,null,null,1,"mat-ink-bar",[["class","mat-ink-bar"]],[[2,"_mat-animation-noopable",null]],null,null,null,null)),e.rb(14,16384,[[1,4]],0,s.b,[e.k,e.y,s.l,[2,v.a]],null,null),(n()(),e.sb(15,0,[[4,0],["nextPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"mousedown"],[null,"click"],[null,"touchend"]],function(n,l,t){var e=!0,a=n.component;return"mousedown"===l&&(e=!1!==a._handlePaginatorPress("after")&&e),"click"===l&&(e=!1!==a._handlePaginatorClick("after")&&e),"touchend"===l&&(e=!1!==a._stopInterval()&&e),e},null,null)),e.rb(16,212992,null,0,m.u,[e.k,e.y,g.a,[2,m.k],[2,v.a]],{disabled:[0,"disabled"]},null),(n()(),e.sb(17,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null))],function(n,l){var t=l.component;n(l,6,0,t._disableScrollBefore||t.disableRipple),n(l,16,0,t._disableScrollAfter||t.disableRipple)},function(n,l){var t=l.component;n(l,5,0,t._disableScrollBefore,e.Db(l,6).unbounded),n(l,13,0,"NoopAnimations"===e.Db(l,14)._animationMode),n(l,15,0,t._disableScrollAfter,e.Db(l,16).unbounded)})}var k,C=t("iInd"),x=function(){function n(n,l,t){this.authService=n,this.chatService=l,this.userService=t}return n.prototype.ngOnInit=function(){this.chatService.startChatMonitoring(),this.userService.startUsersMonitoring(this.authService.authUser.id)},n}(),I=t("7dP1"),w=t("lJxs"),O=function(){function n(){}return n.prototype.readAndWriteQuery=function(n){try{var l=n.store.readQuery({query:n.query,variables:n.variable});switch(n.arrayOperation){case"push":case"unshift":l[n.queryName]=[].concat(l[n.queryName]),l[n.queryName][n.arrayOperation](n.newRecord);break;case"singleRecord":l[n.queryName]=[n.newRecord]}n.store.writeQuery({query:n.query,variables:n.variable,data:l})}catch(t){console.log("Query "+n.queryName+" n\xe3o foi encontrado no cache!")}},n}(),M=t("lTCR"),L=t.n(M),S=t("h1BL"),j=L.a(_templateObject(),S.a),F=L.a(_templateObject2()),B=L.a(_templateObject3(),j,F),U=L.a(_templateObject4(),j),N=L.a(_templateObject5(),j,F),A=L.a(_templateObject6(),j,F),P=L.a(_templateObject7(),j,F),$=L.a(_templateObject8(),S.a),T=L.a(_templateObject9(),$),q=L.a(_templateObject10(),$),J=L.a(_templateObject11(),$),R=t("yDaI"),E=function(){function n(n){var l=this;Object.keys(n).forEach(function(t){return l[t]=n[t]})}return n.prototype.getPhotoURL=function(){return this.photo&&this.photo.secret?R.b.fileDownloadURL+"/"+this.photo.secret:this.isGroup?"assets/images/group-no-photo.png":this.users[0].getPhotoURL()||"assets/images/user-no-photo.png"},n}(),Q=t("PQuL"),G=t("B9zn"),z=t("f4AX"),K=((k=function(n){function l(l,t,e,a){var r;return(r=n.call(this)||this).apollo=l,r.authService=t,r.router=e,r.userService=a,r.subscriptions=[],r}_inheritsLoose(l,n);var t=l.prototype;return t.startChatMonitoring=function(){var n=this;this.chats$||(this.chats$=this.getUserChats(),this.subscriptions.push(this.chats$.subscribe()),this.subscriptions.push(this.router.events.subscribe(function(l){l instanceof C.d&&!n.router.url.includes("chat")&&(n.stopChatsMonitoring(),n.userService.stopUsersMonitoring())})))},t.stopChatsMonitoring=function(){this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions=[],this.chats$=null},t.getUserChats=function(){var n=this;return this.queryRef=this.apollo.watchQuery({query:B,variables:{loggedUserId:this.authService.authUser.id},fetchPolicy:"network-only"}),this.queryRef.subscribeToMore({document:P,variables:{loggedUserId:this.authService.authUser.id},updateQuery:function(n,l){var t=l.subscriptionData.data.Chat.node;return n.allChats.every(function(n){return n.id!==t.id})?Object.assign({},n,{allChats:[t].concat(n.allChats)}):n}}),this.queryRef.subscribeToMore({document:J,variables:{loggedUserId:this.authService.authUser.id},updateQuery:function(l,t){var e=t.subscriptionData.data.Message.node;try{if(e.sender.id!==n.authService.authUser.id){var a=n.apollo.getClient(),r={chatId:e.chat.id},i=a.readQuery({query:T,variables:r});i.allMessages=[].concat(i.allMessages,[e]),a.writeQuery({query:T,variables:r,data:i})}}catch(c){console.log("allMessagesQuery not found!")}var u=l.allChats?l.allChats.findIndex(function(n){return n.id===e.chat.id}):-1;if(u>-1){var o=[].concat(l.allChats),s=Object.assign({},o[u]);return s.messages=[e],o[u]=s,Object.assign({},l,{allChats:o})}return l}}),this.queryRef.valueChanges.pipe(Object(w.a)(function(n){return n.data.allChats}),Object(w.a)(function(n){return n.slice().sort(function(n,l){var t=n.messages.length>0?new Date(n.messages[0].createdAt).getTime():new Date(n.createdAt).getTime();return(l.messages.length>0?new Date(l.messages[0].createdAt).getTime():new Date(l.createdAt).getTime())-t})}),Object(w.a)(function(n){return n.map(function(n){var l=new E(n);return l.users=l.users.map(function(n){return new Q.a(n)}),l})}))},t.getChatByIdByUsers=function(n){return this.apollo.query({query:U,variables:{chatId:n,loggedUserId:this.authService.authUser.id,targetUserId:n}}).pipe(Object(w.a)(function(n){return n.data.Chat?n.data.Chat:n.data.allChats[0]}))},t.createPrivateChat=function(n){var l=this;return this.apollo.mutate({mutation:N,variables:{loggedUserId:this.authService.authUser.id,targetUserId:n},update:function(t,e){var a=e.data.createChat;l.readAndWriteQuery({store:t,newRecord:a,query:B,queryName:"allChats",arrayOperation:"unshift",variable:{loggedUserId:l.authService.authUser.id}}),l.readAndWriteQuery({store:t,newRecord:a,query:U,queryName:"allChats",arrayOperation:"singleRecord",variable:{chatId:n,loggedUserId:l.authService.authUser.id,targetUserId:n}})}}).pipe(Object(w.a)(function(n){return n.data.createChat}))},t.createGroup=function(n){var l=this;return n.usersIds.push(this.authService.authUser.id),this.apollo.mutate({mutation:A,variables:Object.assign({},n,{loggedUserId:this.authService.authUser.id}),optimisticResponse:{__typename:"mutation",createChat:{__typename:"Chat",id:"",title:n.title,createdAt:(new Date).toISOString(),isGroup:!0,photo:{__typename:"File",id:"",secret:""},users:[{__typename:"User",id:"",name:"",email:"",createdAt:(new Date).toISOString(),photo:{__typename:"File",id:"",secret:""}}],messages:[]}},update:function(n,t){var e=t.data.createChat;l.readAndWriteQuery({store:n,newRecord:e,query:B,queryName:"allChats",arrayOperation:"unshift",variable:{loggedUserId:l.authService.authUser.id}})}}).pipe(Object(w.a)(function(n){return n.data.createChat}))},l}(O)).ngInjectableDef=e.Rb({factory:function(){return new k(e.Sb(G.b),e.Sb(I.a),e.Sb(C.l),e.Sb(z.a))},token:k,providedIn:"root"}),k),W=e.qb({encapsulation:2,styles:[],data:{}});function V(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,17,"nav",[["backgroudColor","primary"],["class","mat-tab-nav-bar mat-tab-header"],["mat-tab-nav-bar",""]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null]],null,null,_,D)),e.rb(1,7520256,null,1,s.j,[e.k,[2,d.b],e.y,e.h,y.e,[2,g.a],[2,v.a]],null,null),e.Jb(603979776,1,{_items:1}),(n()(),e.sb(3,0,null,0,7,"a",[["class","mat-tab-link"],["mat-tab-link",""],["routerLink","./"],["routerLinkActive",""]],[[1,"aria-current",0],[1,"aria-disabled",0],[1,"tabIndex",0],[2,"mat-tab-disabled",null],[2,"mat-tab-label-active",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var a=!0;return"click"===l&&(a=!1!==e.Db(n,5).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&a),a},null,null)),e.rb(4,147456,[[1,4]],0,s.i,[s.j,e.k,e.y,g.a,[2,m.k],[8,null],f.d,[2,v.a]],{active:[0,"active"]},null),e.rb(5,671744,[[3,4]],0,C.o,[C.l,C.a,c.i],{routerLink:[0,"routerLink"]},null),e.rb(6,1720320,[["chatsRla",4]],2,C.n,[C.l,e.k,e.D,[2,C.m],[2,C.o]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e.Jb(603979776,2,{links:1}),e.Jb(603979776,3,{linksWithHrefs:1}),e.Gb(9,{exact:0}),(n()(),e.Lb(-1,null,[" Conversas "])),(n()(),e.sb(11,0,null,0,6,"a",[["class","mat-tab-link"],["mat-tab-link",""],["routerLink","users"],["routerLinkActive",""]],[[1,"aria-current",0],[1,"aria-disabled",0],[1,"tabIndex",0],[2,"mat-tab-disabled",null],[2,"mat-tab-label-active",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var a=!0;return"click"===l&&(a=!1!==e.Db(n,13).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&a),a},null,null)),e.rb(12,147456,[[1,4]],0,s.i,[s.j,e.k,e.y,g.a,[2,m.k],[8,null],f.d,[2,v.a]],{active:[0,"active"]},null),e.rb(13,671744,[[5,4]],0,C.o,[C.l,C.a,c.i],{routerLink:[0,"routerLink"]},null),e.rb(14,1720320,[["usersRla",4]],2,C.n,[C.l,e.k,e.D,[2,C.m],[2,C.o]],{routerLinkActive:[0,"routerLinkActive"]},null),e.Jb(603979776,4,{links:1}),e.Jb(603979776,5,{linksWithHrefs:1}),(n()(),e.Lb(-1,null,[" Usu\xe1rios "])),(n()(),e.sb(18,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.rb(19,212992,null,0,C.q,[C.b,e.O,e.j,[8,null],e.h],null,null)],function(n,l){n(l,4,0,e.Db(l,6).isActive),n(l,5,0,"./");var t=n(l,9,0,!0);n(l,6,0,t,""),n(l,12,0,e.Db(l,14).isActive),n(l,13,0,"users"),n(l,14,0,""),n(l,19,0)},function(n,l){n(l,0,0,e.Db(l,1)._showPaginationControls,"rtl"==e.Db(l,1)._getLayoutDirection(),"warn"!==e.Db(l,1).color&&"accent"!==e.Db(l,1).color,"accent"===e.Db(l,1).color,"warn"===e.Db(l,1).color),n(l,3,0,e.Db(l,4).active?"page":null,e.Db(l,4).disabled,e.Db(l,4).tabIndex,e.Db(l,4).disabled,e.Db(l,4).active,e.Db(l,5).target,e.Db(l,5).href),n(l,11,0,e.Db(l,12).active?"page":null,e.Db(l,12).disabled,e.Db(l,12).tabIndex,e.Db(l,12).disabled,e.Db(l,12).active,e.Db(l,13).target,e.Db(l,13).href)})}var H=e.ob("app-chat-tab",x,function(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-chat-tab",[],null,null,null,V,W)),e.rb(1,114688,null,0,x,[I.a,K,z.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),X=t("6UMx"),Y=t("Q+lL"),Z=t("NhFT"),nn=t("PT0D"),ln=t("NvT6"),tn=t("W5yJ"),en=t("Mr+X"),an=t("Gi4r"),rn=function(){},un=e.qb({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{margin-top:30px;display:flex;align-items:center;flex-direction:column}h3[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%]{color:#ccc}mat-icon[_ngcontent-%COMP%]{width:150px;height:150px;font-size:150px}"]],data:{}});function on(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,en.b,en.a)),e.rb(2,9158656,null,0,an.b,[e.k,an.d,[8,null],[2,an.a],[2,e.l]],null,null),(n()(),e.Lb(3,0,["",""])),(n()(),e.sb(4,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Lb(5,null,["",""]))],function(n,l){n(l,2,0)},function(n,l){var t=l.component;n(l,1,0,e.Db(l,2).inline,"primary"!==e.Db(l,2).color&&"accent"!==e.Db(l,2).color&&"warn"!==e.Db(l,2).color),n(l,3,0,t.icon),n(l,5,0,t.title)})}var sn=function(){function n(){}return n.prototype.trackByFn=function(n,l){return l.id},n}(),cn=function(n){function l(l){var t;return(t=n.call(this)||this).userService=l,t}return _inheritsLoose(l,n),l.prototype.ngOnInit=function(){this.users$=this.userService.users$},l}(sn),bn=e.qb({encapsulation:0,styles:[[""]],data:{}});function dn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,17,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var a=!0;return"click"===l&&(a=!1!==e.Db(n,5).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&a),a},X.c,X.a)),e.rb(1,1228800,null,3,Y.d,[e.k,e.h,[2,Y.h],[2,Y.a]],null,null),e.Jb(603979776,1,{_lines:1}),e.Jb(603979776,2,{_avatar:0}),e.Jb(603979776,3,{_icon:0}),e.rb(5,671744,null,0,C.o,[C.l,C.a,c.i],{routerLink:[0,"routerLink"]},null),e.Eb(6,2),(n()(),e.sb(7,0,null,0,3,"app-avatar",[["class","mat-list-avatar"],["matListAvatar",""]],null,null,null,Z.b,Z.a)),e.rb(8,16384,[[2,4]],0,Y.b,[],null,null),e.rb(9,49152,null,0,nn.a,[],{src:[0,"src"],title:[1,"title"],containerStyles:[2,"containerStyles"]},null),e.Gb(10,{width:0,height:1,margin:2}),(n()(),e.sb(11,0,null,1,2,"h3",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),e.rb(12,16384,[[1,4]],0,m.m,[],null,null),(n()(),e.Lb(13,null,["",""])),(n()(),e.sb(14,0,null,1,3,"p",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),e.rb(15,16384,[[1,4]],0,m.m,[],null,null),(n()(),e.Lb(16,null,["Membro desde: ",""])),e.Hb(17,2)],function(n,l){var t=n(l,6,0,"../",l.context.$implicit.id);n(l,5,0,t);var e=l.context.$implicit.getPhotoURL(),a=l.context.$implicit.name,r=n(l,10,0,"40px","40px",0);n(l,9,0,e,a,r)},function(n,l){n(l,0,0,e.Db(l,1)._avatar||e.Db(l,1)._icon,e.Db(l,1)._avatar||e.Db(l,1)._icon,e.Db(l,5).target,e.Db(l,5).href),n(l,13,0,l.context.$implicit.name);var t=e.Mb(l,16,0,n(l,17,0,e.Db(l.parent.parent.parent,0),l.context.$implicit.createdAt,"dd/MM/yyyy"));n(l,16,0,t)})}function mn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,dn)),e.rb(2,278528,null,0,c.k,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.hb(0,null,null,0))],function(n,l){n(l,2,0,l.parent.context.ngIf,l.component.trackByFn)},null)}function pn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,mn)),e.rb(2,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.hb(0,null,null,0))],function(n,l){n(l,2,0,l.context.ngIf.length>0,e.Db(l.parent,7))},null)}function hn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"mat-spinner",[["class","spinner mat-spinner mat-progress-spinner"],["diameter","50"],["mode","indeterminate"],["role","progressbar"],["strokeWidth","3"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,ln.b,ln.a)),e.rb(1,114688,null,0,tn.d,[e.k,g.a,[2,c.d],[2,v.a],tn.a],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"]},null)],function(n,l){n(l,1,0,"50","3")},function(n,l){n(l,0,0,e.Db(l,1)._noopAnimations,e.Db(l,1).diameter,e.Db(l,1).diameter)})}function gn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-no-record",[["icon","group"],["title","Nenhum usu\xe1rio registrado."]],null,null,null,on,un)),e.rb(1,49152,null,0,rn,[],{icon:[0,"icon"],title:[1,"title"]},null)],function(n,l){n(l,1,0,"group","Nenhum usu\xe1rio registrado.")},null)}function fn(n){return e.Nb(0,[e.Fb(0,c.e,[e.t]),(n()(),e.sb(1,0,null,null,4,"mat-nav-list",[["class","mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,X.d,X.b)),e.rb(2,704512,null,0,Y.h,[],null,null),(n()(),e.hb(16777216,null,0,2,null,pn)),e.rb(4,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e.Fb(131072,c.b,[e.h]),(n()(),e.hb(0,[["loadingUsers",2]],null,0,null,hn)),(n()(),e.hb(0,[["noUsers",2]],null,0,null,gn))],function(n,l){var t=l.component;n(l,4,0,e.Mb(l,4,0,e.Db(l,5).transform(t.users$)),e.Db(l,6))},null)}var vn=e.ob("app-chat-users",cn,function(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-chat-users",[],null,null,null,fn,bn)),e.rb(1,114688,null,0,cn,[z.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),yn=t("bujt"),Dn=t("Fwaw"),_n=t("gavF"),kn=t("QQfA"),Cn=e.qb({encapsulation:2,styles:[".mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-panel{outline:solid 1px}}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-item-highlighted,.mat-menu-item.cdk-keyboard-focused,.mat-menu-item.cdk-program-focused{outline:dotted 1px}}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:'';display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}"],data:{animation:[{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:3,steps:[{type:11,selector:".mat-menu-content, .mat-mdc-menu-content",animation:{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"100ms linear"},options:null},{type:4,styles:{type:6,styles:{transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function xn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,4,"div",[["class","mat-menu-panel"],["role","menu"],["tabindex","-1"]],[[24,"@transformMenu",0]],[[null,"keydown"],[null,"click"],[null,"@transformMenu.start"],[null,"@transformMenu.done"]],function(n,l,t){var e=!0,a=n.component;return"keydown"===l&&(e=!1!==a._handleKeydown(t)&&e),"click"===l&&(e=!1!==a.closed.emit("click")&&e),"@transformMenu.start"===l&&(e=!1!==a._onAnimationStart(t)&&e),"@transformMenu.done"===l&&(e=!1!==a._onAnimationDone(t)&&e),e},null,null)),e.Ib(512,null,c.w,c.x,[e.r,e.s,e.k,e.D]),e.rb(2,278528,null,0,c.j,[c.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e.sb(3,0,null,null,1,"div",[["class","mat-menu-content"]],null,null,null,null,null)),e.Cb(null,0)],function(n,l){n(l,2,0,"mat-menu-panel",l.component._classList)},function(n,l){n(l,0,0,l.component._panelAnimationState)})}function In(n){return e.Nb(2,[e.Jb(671088640,1,{templateRef:0}),(n()(),e.hb(0,[[1,2]],null,0,null,xn))],null,null)}var wn=e.qb({encapsulation:2,styles:[],data:{}});function On(n){return e.Nb(2,[e.Cb(null,0),(n()(),e.sb(1,0,null,null,1,"div",[["class","mat-menu-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),e.rb(2,212992,null,0,m.u,[e.k,e.y,g.a,[2,m.k],[2,v.a]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(n,l){var t=l.component;n(l,2,0,t.disableRipple||t.disabled,t._getHostElement())},function(n,l){n(l,1,0,e.Db(l,2).unbounded)})}var Mn=t("s7LF"),Ln=t("LRne"),Sn=t("5+tZ"),jn=t("IzEk"),Fn=function(){function n(n,l,t,e,a,r,i){this.chatService=n,this.dialogRef=l,this.errorService=t,this.fb=e,this.fileService=a,this.snackBar=r,this.userService=i,this.subscriptions=[]}var l=n.prototype;return l.ngOnInit=function(){this.users$=this.userService.users$,this.createForm(),this.listenMembersList()},l.listenMembersList=function(){var n=this;this.subscriptions.push(this.members.valueChanges.subscribe(function(){n.users$=n.users$.pipe(Object(w.a)(function(l){return l.filter(function(l){return n.members.controls.every(function(n){return n.value.id!==l.id})})}))}))},l.createForm=function(){this.newGroupForm=this.fb.group({title:this.fb.control("",[Mn.w.required,Mn.w.minLength(3)]),members:this.fb.array([],Mn.w.required)})},l.addMember=function(n){this.members.push(this.fb.group(n))},l.removeMember=function(n){this.members.removeAt(n)},l.onSelectImage=function(n){this.selectedImage=n.target.files[0]},l.onSubmit=function(){var n,l=this,t=Object(Ln.a)(null);this.selectedImage&&(t=this.fileService.upload(this.selectedImage)),t.pipe(Object(Sn.a)(function(n){var t=Object.assign({title:l.title.value,usersIds:l.members.value.map(function(n){return n.id}),photoId:n?n.id:null});return l.chatService.createGroup(t)}),Object(jn.a)(1)).subscribe(function(l){return n="'"+l.title+"' criado!"},function(t){return n=l.errorService.getErrorMessage(t)},function(){l.dialogRef.close(),l.snackBar.open(n,"OK",{duration:3e3})})},l.ngOnDestroy=function(){this.subscriptions.forEach(function(n){return n.unsubscribe()})},_createClass(n,[{key:"title",get:function(){return this.newGroupForm.get("title")}},{key:"members",get:function(){return this.newGroupForm.get("members")}}]),n}(),Bn=function(n){function l(l,t,e){var a;return(a=n.call(this)||this).authService=l,a.chatService=t,a.dialog=e,a}_inheritsLoose(l,n);var t=l.prototype;return t.ngOnInit=function(){this.chats$=this.chatService.chats$},t.getChatTitle=function(n){return n.title||n.users[0].name},t.getLastMessage=function(n){var l=n.messages[0];return l?(l.sender.id===this.authService.authUser.id?"Voce":l.sender.name)+": "+l.text:"Nenhuma mensagem."},t.onAddGroup=function(){this.dialog.open(Fn,{width:"400px",height:"80vh"})},l}(sn),Un=t("s6ns"),Nn=e.qb({encapsulation:0,styles:[[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;bottom:15px;right:15px}"]],data:{}});function An(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,16,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var a=!0;return"click"===l&&(a=!1!==e.Db(n,5).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&a),a},X.c,X.a)),e.rb(1,1228800,null,3,Y.d,[e.k,e.h,[2,Y.h],[2,Y.a]],null,null),e.Jb(603979776,1,{_lines:1}),e.Jb(603979776,2,{_avatar:0}),e.Jb(603979776,3,{_icon:0}),e.rb(5,671744,null,0,C.o,[C.l,C.a,c.i],{routerLink:[0,"routerLink"]},null),e.Eb(6,1),(n()(),e.sb(7,0,null,0,3,"app-avatar",[["class","mat-list-avatar"],["matListAvatar",""]],null,null,null,Z.b,Z.a)),e.rb(8,16384,[[2,4]],0,Y.b,[],null,null),e.rb(9,49152,null,0,nn.a,[],{src:[0,"src"],title:[1,"title"],containerStyles:[2,"containerStyles"]},null),e.Gb(10,{width:0,height:1,margin:2}),(n()(),e.sb(11,0,null,1,2,"h3",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),e.rb(12,16384,[[1,4]],0,m.m,[],null,null),(n()(),e.Lb(13,null,["",""])),(n()(),e.sb(14,0,null,1,2,"p",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),e.rb(15,16384,[[1,4]],0,m.m,[],null,null),(n()(),e.Lb(16,null,["",""]))],function(n,l){var t=l.component,e=n(l,6,0,l.context.$implicit.id);n(l,5,0,e);var a=l.context.$implicit.getPhotoURL(),r=t.getChatTitle(l.context.$implicit),i=n(l,10,0,"50px","50px",0);n(l,9,0,a,r,i)},function(n,l){var t=l.component;n(l,0,0,e.Db(l,1)._avatar||e.Db(l,1)._icon,e.Db(l,1)._avatar||e.Db(l,1)._icon,e.Db(l,5).target,e.Db(l,5).href),n(l,13,0,t.getChatTitle(l.context.$implicit)),n(l,16,0,t.getLastMessage(l.context.$implicit))})}function Pn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,An)),e.rb(2,278528,null,0,c.k,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.hb(0,null,null,0))],function(n,l){n(l,2,0,l.parent.context.ngIf,l.component.trackByFn)},null)}function $n(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,Pn)),e.rb(2,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.hb(0,null,null,0))],function(n,l){n(l,2,0,l.context.ngIf.length>0,e.Db(l.parent,6))},null)}function Tn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"mat-spinner",[["class","spinner mat-spinner mat-progress-spinner"],["diameter","50"],["mode","indeterminate"],["role","progressbar"],["strokeWidth","5"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,ln.b,ln.a)),e.rb(1,114688,null,0,tn.d,[e.k,g.a,[2,c.d],[2,v.a],tn.a],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"]},null)],function(n,l){n(l,1,0,"50","5")},function(n,l){n(l,0,0,e.Db(l,1)._noopAnimations,e.Db(l,1).diameter,e.Db(l,1).diameter)})}function qn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-no-record",[["icon","chat_bubble"],["title","Nenhuma conversa."]],null,null,null,on,un)),e.rb(1,49152,null,0,rn,[],{icon:[0,"icon"],title:[1,"title"]},null)],function(n,l){n(l,1,0,"chat_bubble","Nenhuma conversa.")},null)}function Jn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,4,"mat-nav-list",[["class","mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,X.d,X.b)),e.rb(1,704512,null,0,Y.h,[],null,null),(n()(),e.hb(16777216,null,0,2,null,$n)),e.rb(3,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e.Fb(131072,c.b,[e.h]),(n()(),e.hb(0,[["loadingChats",2]],null,0,null,Tn)),(n()(),e.hb(0,[["noChats",2]],null,0,null,qn)),(n()(),e.sb(7,16777216,null,null,5,"button",[["aria-haspopup","true"],["class","fab-bottom-right mat-menu-trigger"],["mat-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],function(n,l,t){var a=!0;return"mousedown"===l&&(a=!1!==e.Db(n,9)._handleMousedown(t)&&a),"keydown"===l&&(a=!1!==e.Db(n,9)._handleKeydown(t)&&a),"click"===l&&(a=!1!==e.Db(n,9)._handleClick(t)&&a),a},yn.b,yn.a)),e.rb(8,180224,null,0,Dn.b,[e.k,f.d,[2,v.a]],null,null),e.rb(9,1196032,null,0,_n.g,[kn.a,e.k,e.O,_n.c,[2,_n.d],[8,null],[2,d.b],f.d],{menu:[0,"menu"]},null),(n()(),e.sb(10,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,en.b,en.a)),e.rb(11,9158656,null,0,an.b,[e.k,an.d,[8,null],[2,an.a],[2,e.l]],null,null),(n()(),e.Lb(-1,0,["add"])),(n()(),e.sb(13,0,null,null,13,"mat-menu",[],null,null,null,In,Cn)),e.rb(14,1294336,[["chatListOptions",4]],3,_n.h,[e.k,e.y,_n.a],{overlapTrigger:[0,"overlapTrigger"]},null),e.Jb(603979776,4,{_allItems:1}),e.Jb(603979776,5,{items:1}),e.Jb(603979776,6,{lazyContent:0}),e.Ib(2048,null,_n.d,null,[_n.h]),e.Ib(2048,null,_n.b,null,[_n.d]),(n()(),e.sb(20,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,l,t){var a=!0,r=n.component;return"click"===l&&(a=!1!==e.Db(n,21)._checkDisabled(t)&&a),"mouseenter"===l&&(a=!1!==e.Db(n,21)._handleMouseEnter()&&a),"click"===l&&(a=!1!==r.onAddGroup()&&a),a},On,wn)),e.rb(21,180224,[[4,4],[5,4]],0,_n.e,[e.k,c.d,f.d,[2,_n.b]],null,null),(n()(),e.sb(22,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,en.b,en.a)),e.rb(23,9158656,null,0,an.b,[e.k,an.d,[8,null],[2,an.a],[2,e.l]],null,null),(n()(),e.Lb(-1,0,["group_add"])),(n()(),e.sb(25,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),e.Lb(-1,null,["Novo grupo"]))],function(n,l){var t=l.component;n(l,3,0,e.Mb(l,3,0,e.Db(l,4).transform(t.chats$)),e.Db(l,5)),n(l,9,0,e.Db(l,14)),n(l,11,0),n(l,14,0,!1),n(l,23,0)},function(n,l){n(l,7,0,e.Db(l,8).disabled||null,"NoopAnimations"===e.Db(l,8)._animationMode,e.Db(l,9).menuOpen||null),n(l,10,0,e.Db(l,11).inline,"primary"!==e.Db(l,11).color&&"accent"!==e.Db(l,11).color&&"warn"!==e.Db(l,11).color),n(l,20,0,e.Db(l,21).role,e.Db(l,21)._highlighted,e.Db(l,21)._triggersSubmenu,e.Db(l,21)._getTabIndex(),e.Db(l,21).disabled.toString(),e.Db(l,21).disabled||null),n(l,22,0,e.Db(l,23).inline,"primary"!==e.Db(l,23).color&&"accent"!==e.Db(l,23).color&&"warn"!==e.Db(l,23).color)})}var Rn=e.ob("app-chat-list",Bn,function(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-chat-list",[],null,null,null,Jn,Nn)),e.rb(1,114688,null,0,Bn,[I.a,K,Un.e],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),En=function(){function n(n){this.appConfig=n}return n.prototype.transform=function(n){return function(n,l){var t,e=(new Date).getTime()+l,a=new Date(n).getTime();return(t=e-a)<2e4?"Agora mesmo":t<6e4?"menos de 1 minuto atr\xe1s":t<36e5?Math.round(t/6e4)+" minutos atr\xe1s":t<864e5?Math.round(t/36e5)+" h atr\xe1s":t<2592e6?Math.round(t/864e5)+" dias atr\xe1s":t<31536e6?Math.round(t/2592e6)+" meses atr\xe1s":Math.round(t/31536e6)+" anos atr\xe1s"}(n,this.appConfig.timeDifference)},n}(),Qn=t("u93f"),Gn=function(){function n(){this.arrowClass={}}return n.prototype.ngOnInit=function(){this.arrowClass={"arrow-left":!this.isFromSender,"arrow-right":this.isFromSender}},n}(),zn=e.qb({encapsulation:0,styles:[[".message-container[_ngcontent-%COMP%]{margin:20px 12px;display:flex;flex-flow:row wrap}.text-container[_ngcontent-%COMP%]{flex:1 0 80%;position:relative;margin-left:20px;display:flex;flex-direction:column;align-items:flex-start}.text-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{background-color:#eee;color:#555;box-shadow:1px 1px 2px #ccc;padding:3px 15px}.text-container[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#ccc;text-align:right}.arrow[_ngcontent-%COMP%]{width:0;height:0;border-style:solid;border-width:0 10px 10px 0;display:inline-block;position:absolute}.arrow-right[_ngcontent-%COMP%]{border-color:transparent #5c6bc0 transparent transparent;transform:rotate(-90deg);right:-10px}.arrow-left[_ngcontent-%COMP%]{border-color:transparent #eee transparent transparent;transform:rotate(0);left:-10px}.sender-container[_ngcontent-%COMP%]{align-items:flex-end;margin-left:0;margin-right:20px}.sender-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{background-color:#5c6bc0;box-shadow:-1px 1px 2px #ccc;color:#fff}"]],data:{}});function Kn(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,16,"div",[["class","message-container"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,2,"app-avatar",[],[[4,"order",null]],null,null,Z.b,Z.a)),e.rb(2,49152,null,0,nn.a,[],{src:[0,"src"],title:[1,"title"],containerStyles:[2,"containerStyles"]},null),e.Gb(3,{width:0,height:1,margin:2}),(n()(),e.sb(4,0,null,null,12,"div",[["class","text-container"]],null,null,null,null,null)),e.Ib(512,null,c.w,c.x,[e.r,e.s,e.k,e.D]),e.rb(6,278528,null,0,c.j,[c.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Gb(7,{"sender-container":0}),(n()(),e.sb(8,0,null,null,2,"i",[["class","arrow"]],null,null,null,null,null)),e.Ib(512,null,c.w,c.x,[e.r,e.s,e.k,e.D]),e.rb(10,278528,null,0,c.j,[c.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e.sb(11,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),e.Lb(12,null,["",""])),(n()(),e.sb(13,0,null,null,3,"span",[["class","time"]],null,null,null,null,null)),(n()(),e.sb(14,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),e.Lb(15,null,["",": ",""])),e.Fb(0,En,[Qn.a])],function(n,l){var t=l.component,e=t.message.sender.getPhotoURL(),a=t.message.sender.name,r=n(l,3,0,"50px","50px",0);n(l,2,0,e,a,r);var i=n(l,7,0,t.isFromSender);n(l,6,0,"text-container",i),n(l,10,0,"arrow",t.arrowClass)},function(n,l){var t=l.component;n(l,1,0,t.isFromSender?1:0),n(l,12,0,t.message.text),n(l,15,0,t.message.sender.name,e.Mb(l,15,1,e.Db(l,16).transform(t.message.createdAt)))})}var Wn,Vn=t("FbN9"),Hn=t("BzsH"),Xn=t("vkgz"),Yn=function(n){function l(l,t,e,a,r,i){var u;return(u=n.call(this)||this).authService=l,u.chatService=t,u.messageService=e,u.route=a,u.title=r,u.userService=i,u.newMessage="",u.recipientId=null,u.alreadyLoadedMessages=!1,u.subscriptions=[],u}_inheritsLoose(l,n);var t=l.prototype;return t.ngOnInit=function(){var n=this;this.chatService.startChatMonitoring(),this.userService.startUsersMonitoring(this.authService.authUser.id),this.title.setTitle("Loading..."),this.subscriptions.push(this.route.data.pipe(Object(w.a)(function(l){return n.chat=l.chat}),Object(Sn.a)(function(){return n.route.paramMap}),Object(Xn.a)(function(l){n.chat?(n.title.setTitle(n.chat.title||n.chat.users[0].name),n.messages$=n.messageService.getChatMessages(n.chat.id),n.alreadyLoadedMessages=!0):(n.recipientId=l.get("id"),n.userService.getUserById(n.recipientId).pipe(Object(jn.a)(1)).subscribe(function(l){return n.title.setTitle(l.name)}),n.messages$=Object(Ln.a)([]))})).subscribe())},t.ngAfterViewInit=function(){var n=this;this.subscriptions.push(this.messagesQueryList.changes.subscribe(function(){n.scrollToBottom("smooth")}))},t.sendMessage=function(){this.newMessage=this.newMessage.trim(),this.newMessage&&(this.chat?(this.createMessage().pipe(Object(jn.a)(1)).subscribe(),this.newMessage=""):this.createPrivateChat())},t.createMessage=function(){var n=this;return this.messageService.createMessage({text:this.newMessage,chatId:this.chat.id,senderId:this.authService.authUser.id}).pipe(Object(Xn.a)(function(l){n.alreadyLoadedMessages||(n.messages$=n.messageService.getChatMessages(n.chat.id),n.alreadyLoadedMessages=!0)}))},t.createPrivateChat=function(){var n=this;this.chatService.createPrivateChat(this.recipientId).pipe(Object(jn.a)(1),Object(Xn.a)(function(l){n.chat=l,n.sendMessage()})).subscribe()},t.scrollToBottom=function(n,l){var t=this;void 0===n&&(n="auto"),void 0===l&&(l="end"),setTimeout(function(){t.content.nativeElement.scrollIntoView({behavior:n,block:l})},0)},t.ngOnDestroy=function(){this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.title.setTitle("Angular Graphcool Chat")},l}(sn),Zn=((Wn=function(n){function l(l,t){var e;return(e=n.call(this)||this).apollo=l,e.authService=t,e}_inheritsLoose(l,n);var t=l.prototype;return t.getChatMessages=function(n){return this.apollo.watchQuery({query:T,variables:{chatId:n},fetchPolicy:"network-only"}).valueChanges.pipe(Object(w.a)(function(n){return n.data.allMessages}),Object(w.a)(function(n){return n.map(function(n){var l=Object.assign({},n);return l.sender=new Q.a(l.sender),l})}))},t.createMessage=function(n){var l=this;return this.apollo.mutate({mutation:q,variables:n,optimisticResponse:{__typename:"Mutation",createMessage:{__typename:"Message",id:"",text:n.text,createdAt:(new Date).toISOString(),sender:{__typename:"User",id:n.senderId,name:"",email:"",createdAt:"",photo:{__typename:"File",id:"",secret:this.authService.authUser.photo&&this.authService.authUser.photo.secret||""}},chat:{__typename:"Chat",id:n.chatId}}},update:function(t,e){var a=e.data.createMessage;l.readAndWriteQuery({store:t,newRecord:a,query:T,queryName:"allMessages",arrayOperation:"push",variable:{chatId:n.chatId}});try{var r={loggedUserId:l.authService.authUser.id},i=t.readQuery({query:B,variables:r}),u=[].concat(i.allChats);u.map(function(n){return n.id===a.chat.id&&(n.messages=[a]),n}),i.allChats=u,t.writeQuery({query:B,variables:r,data:i})}catch(o){console.log("Query allChats not found in cache!")}}}).pipe(Object(w.a)(function(n){return n.data.createMessage}))},l}(O)).ngInjectableDef=e.Rb({factory:function(){return new Wn(e.Sb(G.b),e.Sb(I.a))},token:Wn,providedIn:"root"}),Wn),nl=e.qb({encapsulation:0,styles:[[".content[_ngcontent-%COMP%]{position:relative;padding-bottom:55px;margin-bottom:-50px}.input[_ngcontent-%COMP%]{flex:1 1 90%;height:21px;border:none;padding:3px 10px;font-size:18px;color:#555;background-color:#efefef;outline:0;resize:none}"]],data:{}});function ll(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-chat-message",[],null,null,null,Kn,zn)),e.rb(1,114688,[[2,4]],0,Gn,[],{message:[0,"message"],isFromSender:[1,"isFromSender"]},null)],function(n,l){n(l,1,0,l.context.$implicit,l.context.$implicit.sender.id===l.component.authService.authUser.id)},null)}function tl(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,ll)),e.rb(2,278528,null,0,c.k,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.hb(0,null,null,0))],function(n,l){n(l,2,0,l.parent.context.ngIf,l.component.trackByFn)},null)}function el(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,tl)),e.rb(2,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.hb(0,null,null,0))],function(n,l){n(l,2,0,l.context.ngIf.length>0,e.Db(l.parent,7))},null)}function al(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"mat-spinner",[["class","spinner mat-spinner mat-progress-spinner"],["diameter","50"],["mode","indeterminate"],["role","progressbar"],["strokeWidth","3"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,ln.b,ln.a)),e.rb(1,114688,null,0,tn.d,[e.k,g.a,[2,c.d],[2,v.a],tn.a],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"]},null)],function(n,l){n(l,1,0,"50","3")},function(n,l){n(l,0,0,e.Db(l,1)._noopAnimations,e.Db(l,1).diameter,e.Db(l,1).diameter)})}function rl(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-no-record",[["icon","message"],["title","Nenhuma mensagem."]],null,null,null,on,un)),e.rb(1,49152,null,0,rn,[],{icon:[0,"icon"],title:[1,"title"]},null)],function(n,l){n(l,1,0,"message","Nenhuma mensagem.")},null)}function il(n){return e.Nb(0,[e.Jb(671088640,1,{content:0}),e.Jb(671088640,2,{messagesQueryList:1}),(n()(),e.sb(2,0,[[1,0],["content",1]],null,5,"section",[["class","content"]],null,null,null,null,null)),(n()(),e.hb(16777216,null,null,2,null,el)),e.rb(4,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e.Fb(131072,c.b,[e.h]),(n()(),e.hb(0,[["loadingMessages",2]],null,0,null,al)),(n()(),e.hb(0,[["noMessages",2]],null,0,null,rl)),(n()(),e.sb(8,0,null,null,16,"mat-toolbar",[["class","fixed-bottom mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Vn.b,Vn.a)),e.rb(9,4243456,null,1,Hn.a,[e.k,g.a,c.d],{color:[0,"color"]},null),e.Jb(603979776,3,{_toolbarRows:1}),(n()(),e.sb(11,0,null,1,13,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),e.rb(12,16384,[[3,4]],0,Hn.c,[],null,null),(n()(),e.sb(13,0,null,null,5,"input",[["class","input"],["placeholder","Digite uma mensagem"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var a=!0,r=n.component;return"input"===l&&(a=!1!==e.Db(n,14)._handleInput(t.target.value)&&a),"blur"===l&&(a=!1!==e.Db(n,14).onTouched()&&a),"compositionstart"===l&&(a=!1!==e.Db(n,14)._compositionStart()&&a),"compositionend"===l&&(a=!1!==e.Db(n,14)._compositionEnd(t.target.value)&&a),"ngModelChange"===l&&(a=!1!==(r.newMessage=t)&&a),"keyup.enter"===l&&(a=!1!==r.sendMessage()&&a),a},null,null)),e.rb(14,16384,null,0,Mn.d,[e.D,e.k,[2,Mn.a]],null,null),e.Ib(1024,null,Mn.o,function(n){return[n]},[Mn.d]),e.rb(16,671744,null,0,Mn.t,[[8,null],[8,null],[8,null],[6,Mn.o]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,Mn.p,null,[Mn.t]),e.rb(18,16384,null,0,Mn.q,[[4,Mn.p]],null,null),(n()(),e.sb(19,0,null,null,0,"span",[["class","spacer"]],null,null,null,null,null)),(n()(),e.sb(20,0,null,null,4,"button",[["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.sendMessage()&&e),e},yn.b,yn.a)),e.rb(21,180224,null,0,Dn.b,[e.k,f.d,[2,v.a]],null,null),(n()(),e.sb(22,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,en.b,en.a)),e.rb(23,9158656,null,0,an.b,[e.k,an.d,[8,null],[2,an.a],[2,e.l]],null,null),(n()(),e.Lb(-1,0,["send"]))],function(n,l){var t=l.component;n(l,4,0,e.Mb(l,4,0,e.Db(l,5).transform(t.messages$)),e.Db(l,6)),n(l,9,0,"primary"),n(l,16,0,t.newMessage),n(l,23,0)},function(n,l){n(l,8,0,e.Db(l,9)._toolbarRows.length>0,0===e.Db(l,9)._toolbarRows.length),n(l,13,0,e.Db(l,18).ngClassUntouched,e.Db(l,18).ngClassTouched,e.Db(l,18).ngClassPristine,e.Db(l,18).ngClassDirty,e.Db(l,18).ngClassValid,e.Db(l,18).ngClassInvalid,e.Db(l,18).ngClassPending),n(l,20,0,e.Db(l,21).disabled||null,"NoopAnimations"===e.Db(l,21)._animationMode),n(l,22,0,e.Db(l,23).inline,"primary"!==e.Db(l,23).color&&"accent"!==e.Db(l,23).color&&"warn"!==e.Db(l,23).color)})}var ul=e.ob("app-chat-window",Yn,function(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-chat-window",[],null,null,null,il,nl)),e.rb(1,4440064,null,0,Yn,[I.a,K,Zn,C.a,p.h,z.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),ol=t("HsOI"),sl=t("TtEo"),cl=t("02hT"),bl=t("sIgD"),dl=t("dJrM"),ml=t("ZwOa"),pl=t("oapL"),hl=t("qXXK"),gl=t("sINK"),fl=t("dFDH"),vl=e.qb({encapsulation:0,styles:[[".group-cover[_ngcontent-%COMP%]{position:relative}.group-cover[_ngcontent-%COMP%]   .btn-choose-photo[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;background-color:#fff}"]],data:{}});function yl(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),e.rb(1,16384,[[6,4]],0,ol.b,[],null,null),(n()(),e.Lb(-1,null,[" Este campo \xe9 obrigat\xf3rio "]))],null,function(n,l){n(l,0,0,e.Db(l,1).id)})}function Dl(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),e.rb(1,16384,[[6,4]],0,ol.b,[],null,null),(n()(),e.Lb(-1,null,[" Entre com pelo menos 3 caracteres "]))],null,function(n,l){n(l,0,0,e.Db(l,1).id)})}function _l(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,15,"mat-list-item",[["class","mat-list-item"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,X.c,X.a)),e.rb(1,212992,null,0,Mn.k,[[3,Mn.c],[8,null],[8,null]],{name:[0,"name"]},null),e.Ib(2048,null,Mn.c,null,[Mn.k]),e.rb(3,16384,null,0,Mn.r,[[4,Mn.c]],null,null),e.rb(4,1228800,null,3,Y.d,[e.k,e.h,[2,Y.h],[2,Y.a]],null,null),e.Jb(603979776,10,{_lines:1}),e.Jb(603979776,11,{_avatar:0}),e.Jb(603979776,12,{_icon:0}),(n()(),e.sb(8,0,null,1,2,"h3",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),e.rb(9,16384,[[10,4]],0,m.m,[],null,null),(n()(),e.Lb(10,null,["",""])),(n()(),e.sb(11,0,null,2,4,"button",[["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.removeMember(n.context.index)&&e),e},yn.b,yn.a)),e.rb(12,180224,null,0,Dn.b,[e.k,f.d,[2,v.a]],null,null),(n()(),e.sb(13,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,en.b,en.a)),e.rb(14,9158656,null,0,an.b,[e.k,an.d,[8,null],[2,an.a],[2,e.l]],null,null),(n()(),e.Lb(-1,0,["close"]))],function(n,l){n(l,1,0,l.context.index),n(l,14,0)},function(n,l){n(l,0,0,e.Db(l,3).ngClassUntouched,e.Db(l,3).ngClassTouched,e.Db(l,3).ngClassPristine,e.Db(l,3).ngClassDirty,e.Db(l,3).ngClassValid,e.Db(l,3).ngClassInvalid,e.Db(l,3).ngClassPending,e.Db(l,4)._avatar||e.Db(l,4)._icon,e.Db(l,4)._avatar||e.Db(l,4)._icon),n(l,10,0,l.context.$implicit.value.name),n(l,11,0,e.Db(l,12).disabled||null,"NoopAnimations"===e.Db(l,12)._animationMode),n(l,13,0,e.Db(l,14).inline,"primary"!==e.Db(l,14).color&&"accent"!==e.Db(l,14).color&&"warn"!==e.Db(l,14).color)})}function kl(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,11,"mat-nav-list",[["class","mat-nav-list mat-list-base"],["formArrayName","members"],["role","navigation"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,X.d,X.b)),e.rb(1,212992,null,0,Mn.f,[[3,Mn.c],[8,null],[8,null]],{name:[0,"name"]},null),e.Ib(2048,null,Mn.c,null,[Mn.f]),e.rb(3,16384,null,0,Mn.r,[[4,Mn.c]],null,null),e.rb(4,704512,null,0,Y.h,[],null,null),(n()(),e.sb(5,0,null,0,2,"h3",[["class","mat-subheader"],["matSubheader",""]],null,null,null,null,null)),e.rb(6,16384,null,0,Y.g,[],null,null),(n()(),e.Lb(-1,null,["Usu\xe1rios selecionados:"])),(n()(),e.hb(16777216,null,0,1,null,_l)),e.rb(9,278528,null,0,c.k,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null),(n()(),e.sb(10,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,sl.b,sl.a)),e.rb(11,49152,null,0,cl.a,[],null,null)],function(n,l){var t=l.component;n(l,1,0,"members"),n(l,9,0,t.members.controls)},function(n,l){n(l,0,0,e.Db(l,3).ngClassUntouched,e.Db(l,3).ngClassTouched,e.Db(l,3).ngClassPristine,e.Db(l,3).ngClassDirty,e.Db(l,3).ngClassValid,e.Db(l,3).ngClassInvalid,e.Db(l,3).ngClassPending),n(l,10,0,e.Db(l,11).vertical?"vertical":"horizontal",e.Db(l,11).vertical,!e.Db(l,11).vertical,e.Db(l,11).inset)})}function Cl(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,12,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,X.c,X.a)),e.rb(1,1228800,null,3,Y.d,[e.k,e.h,[2,Y.h],[2,Y.a]],null,null),e.Jb(603979776,13,{_lines:1}),e.Jb(603979776,14,{_avatar:0}),e.Jb(603979776,15,{_icon:0}),(n()(),e.sb(5,0,null,1,2,"h3",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),e.rb(6,16384,[[13,4]],0,m.m,[],null,null),(n()(),e.Lb(7,null,["",""])),(n()(),e.sb(8,0,null,2,4,"button",[["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.addMember(n.context.$implicit)&&e),e},yn.b,yn.a)),e.rb(9,180224,null,0,Dn.b,[e.k,f.d,[2,v.a]],null,null),(n()(),e.sb(10,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,en.b,en.a)),e.rb(11,9158656,null,0,an.b,[e.k,an.d,[8,null],[2,an.a],[2,e.l]],null,null),(n()(),e.Lb(-1,0,["add"]))],function(n,l){n(l,11,0)},function(n,l){n(l,0,0,e.Db(l,1)._avatar||e.Db(l,1)._icon,e.Db(l,1)._avatar||e.Db(l,1)._icon),n(l,7,0,l.context.$implicit.name),n(l,8,0,e.Db(l,9).disabled||null,"NoopAnimations"===e.Db(l,9)._animationMode),n(l,10,0,e.Db(l,11).inline,"primary"!==e.Db(l,11).color&&"accent"!==e.Db(l,11).color&&"warn"!==e.Db(l,11).color)})}function xl(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),e.sb(1,0,null,null,2,"h3",[["class","mat-subheader"],["matSubheader",""]],null,null,null,null,null)),e.rb(2,16384,null,0,Y.g,[],null,null),(n()(),e.Lb(-1,null,["Adicionar usu\xe1rios:"])),(n()(),e.hb(16777216,null,null,1,null,Cl)),e.rb(5,278528,null,0,c.k,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null),(n()(),e.hb(0,null,null,0))],function(n,l){n(l,5,0,l.parent.context.ngIf)},null)}function Il(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Lb(-1,null,["Nenhum usu\xe1rio cadastrado."]))],null,null)}function wl(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,4,"mat-nav-list",[["class","mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,X.d,X.b)),e.rb(1,704512,null,0,Y.h,[],null,null),(n()(),e.hb(16777216,null,0,1,null,xl)),e.rb(3,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.hb(0,[["noUsersTemplate",2]],0,0,null,Il))],function(n,l){n(l,3,0,l.context.ngIf.length>0,e.Db(l,4))},null)}function Ol(n){return e.Nb(0,[e.Fb(0,bl.a,[]),(n()(),e.sb(1,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),e.rb(2,81920,null,0,Un.m,[[2,Un.l],e.k,Un.e],null,null),(n()(),e.Lb(-1,null,["Novo grupo"])),(n()(),e.sb(4,0,[["inputFile",1]],null,0,"input",[["accept","image/*"],["type","file"]],[[8,"hidden",0]],[[null,"change"]],function(n,l,t){var e=!0;return"change"===l&&(e=!1!==n.component.onSelectImage(t)&&e),e},null,null)),(n()(),e.sb(5,0,null,null,9,"div",[["class","group-cover"]],null,null,null,null,null)),(n()(),e.sb(6,0,null,null,8,"app-avatar",[["title","Group cover"]],null,null,null,Z.b,Z.a)),e.rb(7,49152,null,0,nn.a,[],{src:[0,"src"],title:[1,"title"]},null),e.Hb(8,1),e.Fb(131072,c.b,[e.h]),(n()(),e.sb(10,0,null,0,4,"button",[["class","btn-choose-photo"],["color","primary"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,t){var a=!0;return"click"===l&&(a=!1!==e.Db(n,4).click()&&a),a},yn.b,yn.a)),e.rb(11,180224,null,0,Dn.b,[e.k,f.d,[2,v.a]],{color:[0,"color"]},null),(n()(),e.sb(12,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,en.b,en.a)),e.rb(13,9158656,null,0,an.b,[e.k,an.d,[8,null],[2,an.a],[2,e.l]],null,null),(n()(),e.Lb(-1,0,["camera_alt"])),(n()(),e.sb(15,0,null,null,43,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var a=!0,r=n.component;return"submit"===l&&(a=!1!==e.Db(n,17).onSubmit(t)&&a),"reset"===l&&(a=!1!==e.Db(n,17).onReset()&&a),"submit"===l&&(a=!1!==r.onSubmit()&&a),a},null,null)),e.rb(16,16384,null,0,Mn.A,[],null,null),e.rb(17,540672,null,0,Mn.j,[[8,null],[8,null]],{form:[0,"form"]},null),e.Ib(2048,null,Mn.c,null,[Mn.j]),e.rb(19,16384,null,0,Mn.r,[[4,Mn.c]],null,null),(n()(),e.sb(20,0,null,null,29,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),e.rb(21,16384,null,0,Un.j,[],null,null),(n()(),e.sb(22,0,null,null,22,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,dl.b,dl.a)),e.rb(23,7520256,null,9,ol.c,[e.k,e.h,[2,m.h],[2,d.b],[2,ol.a],g.a,e.y,[2,v.a]],null,null),e.Jb(603979776,1,{_controlNonStatic:0}),e.Jb(335544320,2,{_controlStatic:0}),e.Jb(603979776,3,{_labelChildNonStatic:0}),e.Jb(335544320,4,{_labelChildStatic:0}),e.Jb(603979776,5,{_placeholderChild:0}),e.Jb(603979776,6,{_errorChildren:1}),e.Jb(603979776,7,{_hintChildren:1}),e.Jb(603979776,8,{_prefixChildren:1}),e.Jb(603979776,9,{_suffixChildren:1}),(n()(),e.sb(33,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","title"],["matInput",""],["placeholder","T\xedtulo do grupo"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,t){var a=!0;return"input"===l&&(a=!1!==e.Db(n,34)._handleInput(t.target.value)&&a),"blur"===l&&(a=!1!==e.Db(n,34).onTouched()&&a),"compositionstart"===l&&(a=!1!==e.Db(n,34)._compositionStart()&&a),"compositionend"===l&&(a=!1!==e.Db(n,34)._compositionEnd(t.target.value)&&a),"blur"===l&&(a=!1!==e.Db(n,39)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==e.Db(n,39)._focusChanged(!0)&&a),"input"===l&&(a=!1!==e.Db(n,39)._onInput()&&a),a},null,null)),e.rb(34,16384,null,0,Mn.d,[e.D,e.k,[2,Mn.a]],null,null),e.Ib(1024,null,Mn.o,function(n){return[n]},[Mn.d]),e.rb(36,671744,null,0,Mn.i,[[3,Mn.c],[8,null],[8,null],[6,Mn.o],[2,Mn.z]],{name:[0,"name"]},null),e.Ib(2048,null,Mn.p,null,[Mn.i]),e.rb(38,16384,null,0,Mn.q,[[4,Mn.p]],null,null),e.rb(39,999424,null,0,ml.a,[e.k,g.a,[6,Mn.p],[2,Mn.s],[2,Mn.j],m.b,[8,null],pl.a,e.y],{placeholder:[0,"placeholder"],type:[1,"type"]},null),e.Ib(2048,[[1,4],[2,4]],ol.d,null,[ml.a]),(n()(),e.hb(16777216,null,5,1,null,yl)),e.rb(42,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,5,1,null,Dl)),e.rb(44,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,null,1,null,kl)),e.rb(46,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,null,2,null,wl)),e.rb(48,16384,null,0,c.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),e.Fb(131072,c.b,[e.h]),(n()(),e.sb(50,0,null,null,8,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),e.rb(51,16384,null,0,Un.f,[],null,null),(n()(),e.sb(52,0,null,null,3,"button",[["mat-button",""],["mat-dialog-close",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],function(n,l,t){var a=!0;return"click"===l&&(a=!1!==e.Db(n,54).dialogRef.close(e.Db(n,54).dialogResult)&&a),a},yn.b,yn.a)),e.rb(53,180224,null,0,Dn.b,[e.k,f.d,[2,v.a]],null,null),e.rb(54,606208,null,0,Un.g,[[2,Un.l],e.k,Un.e],{dialogResult:[0,"dialogResult"]},null),(n()(),e.Lb(-1,0,["Cancelar"])),(n()(),e.sb(56,0,null,null,2,"button",[["mat-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,yn.b,yn.a)),e.rb(57,180224,null,0,Dn.b,[e.k,f.d,[2,v.a]],{disabled:[0,"disabled"]},null),(n()(),e.Lb(-1,0,["Criar"]))],function(n,l){var t=l.component;n(l,2,0);var a=e.Mb(l,7,0,e.Db(l,9).transform(e.Mb(l,7,0,n(l,8,0,e.Db(l,0),t.selectedImage))))||"assets/images/group-no-photo.png";n(l,7,0,a,"Group cover"),n(l,11,0,"primary"),n(l,13,0),n(l,17,0,t.newGroupForm),n(l,36,0,"title"),n(l,39,0,"T\xedtulo do grupo","text"),n(l,42,0,t.title.touched&&t.title.hasError("required")),n(l,44,0,t.title.touched&&t.title.hasError("minlength")),n(l,46,0,t.members.controls.length>0),n(l,48,0,e.Mb(l,48,0,e.Db(l,49).transform(t.users$))),n(l,54,0,""),n(l,57,0,t.newGroupForm.invalid)},function(n,l){n(l,1,0,e.Db(l,2).id),n(l,4,0,!0),n(l,10,0,e.Db(l,11).disabled||null,"NoopAnimations"===e.Db(l,11)._animationMode),n(l,12,0,e.Db(l,13).inline,"primary"!==e.Db(l,13).color&&"accent"!==e.Db(l,13).color&&"warn"!==e.Db(l,13).color),n(l,15,0,e.Db(l,19).ngClassUntouched,e.Db(l,19).ngClassTouched,e.Db(l,19).ngClassPristine,e.Db(l,19).ngClassDirty,e.Db(l,19).ngClassValid,e.Db(l,19).ngClassInvalid,e.Db(l,19).ngClassPending),n(l,22,1,["standard"==e.Db(l,23).appearance,"fill"==e.Db(l,23).appearance,"outline"==e.Db(l,23).appearance,"legacy"==e.Db(l,23).appearance,e.Db(l,23)._control.errorState,e.Db(l,23)._canLabelFloat,e.Db(l,23)._shouldLabelFloat(),e.Db(l,23)._hasFloatingLabel(),e.Db(l,23)._hideControlPlaceholder(),e.Db(l,23)._control.disabled,e.Db(l,23)._control.autofilled,e.Db(l,23)._control.focused,"accent"==e.Db(l,23).color,"warn"==e.Db(l,23).color,e.Db(l,23)._shouldForward("untouched"),e.Db(l,23)._shouldForward("touched"),e.Db(l,23)._shouldForward("pristine"),e.Db(l,23)._shouldForward("dirty"),e.Db(l,23)._shouldForward("valid"),e.Db(l,23)._shouldForward("invalid"),e.Db(l,23)._shouldForward("pending"),!e.Db(l,23)._animationsEnabled]),n(l,33,1,[e.Db(l,38).ngClassUntouched,e.Db(l,38).ngClassTouched,e.Db(l,38).ngClassPristine,e.Db(l,38).ngClassDirty,e.Db(l,38).ngClassValid,e.Db(l,38).ngClassInvalid,e.Db(l,38).ngClassPending,e.Db(l,39)._isServer,e.Db(l,39).id,e.Db(l,39).placeholder,e.Db(l,39).disabled,e.Db(l,39).required,e.Db(l,39).readonly&&!e.Db(l,39)._isNativeSelect||null,e.Db(l,39)._ariaDescribedby||null,e.Db(l,39).errorState,e.Db(l,39).required.toString()]),n(l,52,0,e.Db(l,53).disabled||null,"NoopAnimations"===e.Db(l,53)._animationMode,e.Db(l,54).ariaLabel||null,e.Db(l,54).type),n(l,56,0,e.Db(l,57).disabled||null,"NoopAnimations"===e.Db(l,57)._animationMode)})}var Ml=e.ob("app-chat-add-group",Fn,function(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-chat-add-group",[],null,null,null,Ol,vl)),e.rb(1,245760,null,0,Fn,[K,Un.l,hl.a,Mn.g,gl.a,fl.b,z.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),Ll=function(){function n(n){this.chatService=n}return n.prototype.resolve=function(n,l){var t=n.paramMap.get("id");return this.chatService.getChatByIdByUsers(t)},n}(),Sl=t("igqZ"),jl=t("BV1i"),Fl=t("pBi1"),Bl=t("PCNd"),Ul=t("VQQV"),Nl=function(){};t.d(l,"ChatModuleNgFactory",function(){return Al});var Al=e.pb(a,[],function(n){return e.Ab([e.Bb(512,e.j,e.ab,[[8,[r.a,i.a,i.b,u.a,o.a,H,vn,Rn,ul,Ml]],[3,e.j],e.w]),e.Bb(4608,c.n,c.m,[e.t,[2,c.B]]),e.Bb(4608,kn.a,kn.a,[kn.g,kn.c,e.j,kn.f,kn.d,e.q,e.y,c.d,d.b,[2,c.h]]),e.Bb(5120,kn.h,kn.i,[kn.a]),e.Bb(5120,Un.c,Un.d,[kn.a]),e.Bb(135680,Un.e,Un.e,[kn.a,e.q,[2,c.h],[2,Un.b],Un.c,[3,Un.e],kn.c]),e.Bb(4608,Mn.y,Mn.y,[]),e.Bb(4608,b.c,b.c,[]),e.Bb(4608,m.b,m.b,[]),e.Bb(5120,_n.c,_n.j,[kn.a]),e.Bb(4608,p.e,m.c,[[2,m.g],[2,m.l]]),e.Bb(4608,Mn.g,Mn.g,[]),e.Bb(4608,Ll,Ll,[K]),e.Bb(1073742336,c.c,c.c,[]),e.Bb(1073742336,d.a,d.a,[]),e.Bb(1073742336,m.l,m.l,[[2,m.d],[2,p.f]]),e.Bb(1073742336,g.b,g.b,[]),e.Bb(1073742336,m.v,m.v,[]),e.Bb(1073742336,Dn.c,Dn.c,[]),e.Bb(1073742336,Sl.f,Sl.f,[]),e.Bb(1073742336,h.g,h.g,[]),e.Bb(1073742336,y.c,y.c,[]),e.Bb(1073742336,kn.e,kn.e,[]),e.Bb(1073742336,Un.k,Un.k,[]),e.Bb(1073742336,an.c,an.c,[]),e.Bb(1073742336,Hn.b,Hn.b,[]),e.Bb(1073742336,Mn.x,Mn.x,[]),e.Bb(1073742336,Mn.l,Mn.l,[]),e.Bb(1073742336,b.d,b.d,[]),e.Bb(1073742336,ol.e,ol.e,[]),e.Bb(1073742336,pl.c,pl.c,[]),e.Bb(1073742336,ml.b,ml.b,[]),e.Bb(1073742336,m.n,m.n,[]),e.Bb(1073742336,m.t,m.t,[]),e.Bb(1073742336,cl.b,cl.b,[]),e.Bb(1073742336,Y.e,Y.e,[]),e.Bb(1073742336,_n.i,_n.i,[]),e.Bb(1073742336,_n.f,_n.f,[]),e.Bb(1073742336,tn.c,tn.c,[]),e.Bb(1073742336,jl.h,jl.h,[]),e.Bb(1073742336,fl.e,fl.e,[]),e.Bb(1073742336,Fl.d,Fl.d,[]),e.Bb(1073742336,Fl.c,Fl.c,[]),e.Bb(1073742336,f.a,f.a,[]),e.Bb(1073742336,s.k,s.k,[]),e.Bb(1073742336,Mn.u,Mn.u,[]),e.Bb(1073742336,Bl.a,Bl.a,[]),e.Bb(1073742336,C.p,C.p,[[2,C.u],[2,C.l]]),e.Bb(1073742336,Nl,Nl,[]),e.Bb(1073742336,a,a,[]),e.Bb(1024,C.j,function(){return[[{path:"",component:x,canActivate:[Ul.a],canActivateChild:[Ul.a],children:[{path:"users",component:cn},{path:"",component:Bn}]},{path:":id",component:Yn,canActivate:[Ul.a],resolve:{chat:Ll}}]]},[])])})}}]);